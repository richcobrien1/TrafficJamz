import{r as p,c as $,j as o,d as _,e as O,u as ae,a as ne,b as re,L as se}from"./index-C_3tyMlA.js";import{P as le}from"./PersonAdd-SABtM-5N.js";import{C as ie}from"./Container-BLhiYW-S.js";import{g as A,a as T,s as g,c as U,m as W,P as ce,T as H,B as F}from"./Box-B7n4D01-.js";import{A as pe}from"./Avatar-CTdIBAVi.js";import{c as Q,S as de,u as B,B as Y,C as me}from"./List-K2ODHGaJ.js";import{A as ue}from"./Grow-5OE428Pa.js";import{G as S}from"./Grid-CyXsRVxX.js";import{T as R}from"./TextField-BEOKNznX.js";import{L as J}from"./Link-CDafOs9T.js";import"./mergeSlotProps-COfFLBTA.js";const D=p.createContext({}),G=p.createContext({});function xe(e){return A("MuiStep",e)}T("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const ve=e=>{const{classes:a,orientation:t,alternativeLabel:n,completed:r}=e;return U({root:["root",t,n&&"alternativeLabel",r&&"completed"]},xe,a)},fe=g("div",{name:"MuiStep",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:t}=e;return[a.root,a[t.orientation],t.alternativeLabel&&a.alternativeLabel,t.completed&&a.completed]}})({variants:[{props:{orientation:"horizontal"},style:{paddingLeft:8,paddingRight:8}},{props:{alternativeLabel:!0},style:{flex:1,position:"relative"}}]}),be=p.forwardRef(function(a,t){const n=$({props:a,name:"MuiStep"}),{active:r,children:l,className:d,component:s="div",completed:m,disabled:v,expanded:u=!1,index:i,last:c,...P}=n,{activeStep:L,connector:b,alternativeLabel:y,orientation:j,nonLinear:C}=p.useContext(D);let[x=!1,h=!1,f=!1]=[r,m,v];L===i?x=r!==void 0?r:!0:!C&&L>i?h=m!==void 0?m:!0:!C&&L<i&&(f=v!==void 0?v:!0);const M=p.useMemo(()=>({index:i,last:c,expanded:u,icon:i+1,active:x,completed:h,disabled:f}),[i,c,u,x,h,f]),w={...n,active:x,orientation:j,alternativeLabel:y,completed:h,disabled:f,expanded:u,component:s},N=ve(w),z=o.jsxs(fe,{as:s,className:_(N.root,d),ref:t,ownerState:w,...P,children:[b&&y&&i!==0?b:null,l]});return o.jsx(G.Provider,{value:M,children:b&&!y&&i!==0?o.jsxs(p.Fragment,{children:[b,z]}):z})}),he=Q(o.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"})),Se=Q(o.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}));function Ce(e){return A("MuiStepIcon",e)}const q=T("MuiStepIcon",["root","active","completed","error","text"]);var K;const ge=e=>{const{classes:a,active:t,completed:n,error:r}=e;return U({root:["root",t&&"active",n&&"completed",r&&"error"],text:["text"]},Ce,a)},E=g(de,{name:"MuiStepIcon",slot:"Root"})(W(({theme:e})=>({display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),color:(e.vars||e).palette.text.disabled,[`&.${q.completed}`]:{color:(e.vars||e).palette.primary.main},[`&.${q.active}`]:{color:(e.vars||e).palette.primary.main},[`&.${q.error}`]:{color:(e.vars||e).palette.error.main}}))),Le=g("text",{name:"MuiStepIcon",slot:"Text"})(W(({theme:e})=>({fill:(e.vars||e).palette.primary.contrastText,fontSize:e.typography.caption.fontSize,fontFamily:e.typography.fontFamily}))),ye=p.forwardRef(function(a,t){const n=$({props:a,name:"MuiStepIcon"}),{active:r=!1,className:l,completed:d=!1,error:s=!1,icon:m,...v}=n,u={...n,active:r,completed:d,error:s},i=ge(u);if(typeof m=="number"||typeof m=="string"){const c=_(l,i.root);return s?o.jsx(E,{as:Se,className:c,ref:t,ownerState:u,...v}):d?o.jsx(E,{as:he,className:c,ref:t,ownerState:u,...v}):o.jsxs(E,{className:c,ref:t,ownerState:u,...v,children:[K||(K=o.jsx("circle",{cx:"12",cy:"12",r:"12"})),o.jsx(Le,{className:i.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:u,children:m})]})}return m});function je(e){return A("MuiStepLabel",e)}const I=T("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),we=e=>{const{classes:a,orientation:t,active:n,completed:r,error:l,disabled:d,alternativeLabel:s}=e;return U({root:["root",t,l&&"error",d&&"disabled",s&&"alternativeLabel"],label:["label",n&&"active",r&&"completed",l&&"error",d&&"disabled",s&&"alternativeLabel"],iconContainer:["iconContainer",n&&"active",r&&"completed",l&&"error",d&&"disabled",s&&"alternativeLabel"],labelContainer:["labelContainer",s&&"alternativeLabel"]},je,a)},Pe=g("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:t}=e;return[a.root,a[t.orientation]]}})({display:"flex",alignItems:"center",[`&.${I.alternativeLabel}`]:{flexDirection:"column"},[`&.${I.disabled}`]:{cursor:"default"},variants:[{props:{orientation:"vertical"},style:{textAlign:"left",padding:"8px 0"}}]}),Ie=g("span",{name:"MuiStepLabel",slot:"Label"})(W(({theme:e})=>({...e.typography.body2,display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),[`&.${I.active}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${I.completed}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${I.alternativeLabel}`]:{marginTop:16},[`&.${I.error}`]:{color:(e.vars||e).palette.error.main}}))),Me=g("span",{name:"MuiStepLabel",slot:"IconContainer"})({flexShrink:0,display:"flex",paddingRight:8,[`&.${I.alternativeLabel}`]:{paddingRight:0}}),Re=g("span",{name:"MuiStepLabel",slot:"LabelContainer"})(W(({theme:e})=>({width:"100%",color:(e.vars||e).palette.text.secondary,[`&.${I.alternativeLabel}`]:{textAlign:"center"}}))),X=p.forwardRef(function(a,t){const n=$({props:a,name:"MuiStepLabel"}),{children:r,className:l,componentsProps:d={},error:s=!1,icon:m,optional:v,slots:u={},slotProps:i={},StepIconComponent:c,StepIconProps:P,...L}=n,{alternativeLabel:b,orientation:y}=p.useContext(D),{active:j,disabled:C,completed:x,icon:h}=p.useContext(G),f=m||h;let M=c;f&&!M&&(M=ye);const w={...n,active:j,alternativeLabel:b,completed:x,disabled:C,error:s,orientation:y},N=we(w),z={slots:u,slotProps:{stepIcon:P,...d,...i}},[Z,ee]=B("root",{elementType:Pe,externalForwardedProps:{...z,...L},ownerState:w,ref:t,className:_(N.root,l)}),[te,k]=B("label",{elementType:Ie,externalForwardedProps:z,ownerState:w}),[V,oe]=B("stepIcon",{elementType:M,externalForwardedProps:z,ownerState:w});return o.jsxs(Z,{...ee,children:[f||V?o.jsx(Me,{className:N.iconContainer,ownerState:w,children:o.jsx(V,{completed:x,active:j,error:s,icon:f,...oe})}):null,o.jsxs(Re,{className:N.labelContainer,ownerState:w,children:[r?o.jsx(te,{...k,className:_(N.label,k==null?void 0:k.className),children:r}):null,v]})]})});X.muiName="StepLabel";function Ne(e){return A("MuiStepConnector",e)}T("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const ze=e=>{const{classes:a,orientation:t,alternativeLabel:n,active:r,completed:l,disabled:d}=e,s={root:["root",t,n&&"alternativeLabel",r&&"active",l&&"completed",d&&"disabled"],line:["line",`line${O(t)}`]};return U(s,Ne,a)},_e=g("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:t}=e;return[a.root,a[t.orientation],t.alternativeLabel&&a.alternativeLabel,t.completed&&a.completed]}})({flex:"1 1 auto",variants:[{props:{orientation:"vertical"},style:{marginLeft:12}},{props:{alternativeLabel:!0},style:{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"}}]}),$e=g("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(e,a)=>{const{ownerState:t}=e;return[a.line,a[`line${O(t.orientation)}`]]}})(W(({theme:e})=>{const a=e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600];return{display:"block",borderColor:e.vars?e.vars.palette.StepConnector.border:a,variants:[{props:{orientation:"horizontal"},style:{borderTopStyle:"solid",borderTopWidth:1}},{props:{orientation:"vertical"},style:{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24}}]}})),Ae=p.forwardRef(function(a,t){const n=$({props:a,name:"MuiStepConnector"}),{className:r,...l}=n,{alternativeLabel:d,orientation:s="horizontal"}=p.useContext(D),{active:m,disabled:v,completed:u}=p.useContext(G),i={...n,alternativeLabel:d,orientation:s,active:m,completed:u,disabled:v},c=ze(i);return o.jsx(_e,{className:_(c.root,r),ref:t,ownerState:i,...l,children:o.jsx($e,{className:c.line,ownerState:i})})});function Te(e){return A("MuiStepper",e)}T("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const Ue=e=>{const{orientation:a,nonLinear:t,alternativeLabel:n,classes:r}=e;return U({root:["root",a,t&&"nonLinear",n&&"alternativeLabel"]},Te,r)},We=g("div",{name:"MuiStepper",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:t}=e;return[a.root,a[t.orientation],t.alternativeLabel&&a.alternativeLabel,t.nonLinear&&a.nonLinear]}})({display:"flex",variants:[{props:{orientation:"horizontal"},style:{flexDirection:"row",alignItems:"center"}},{props:{orientation:"vertical"},style:{flexDirection:"column"}},{props:{alternativeLabel:!0},style:{alignItems:"flex-start"}}]}),ke=o.jsx(Ae,{}),De=p.forwardRef(function(a,t){const n=$({props:a,name:"MuiStepper"}),{activeStep:r=0,alternativeLabel:l=!1,children:d,className:s,component:m="div",connector:v=ke,nonLinear:u=!1,orientation:i="horizontal",...c}=n,P={...n,nonLinear:u,alternativeLabel:l,orientation:i,component:m},L=Ue(P),b=p.Children.toArray(d).filter(Boolean),y=b.map((C,x)=>p.cloneElement(C,{index:x,last:x+1===b.length,...C.props})),j=p.useMemo(()=>({activeStep:r,alternativeLabel:l,connector:v,nonLinear:u,orientation:i}),[r,l,v,u,i]);return o.jsx(D.Provider,{value:j,children:o.jsx(We,{as:m,ownerState:P,className:_(L.root,s),ref:t,...c,children:y})})}),Qe=()=>{var C;const[e,a]=p.useState(0),[t,n]=p.useState({username:"",email:"",password:"",confirmPassword:"",first_name:"",last_name:"",phone_number:""}),[r,l]=p.useState(!1),[d,s]=p.useState(""),{register:m}=ae(),v=ne(),i=((C=re().state)==null?void 0:C.from)||"/",c=x=>{const{name:h,value:f}=x.target;n(M=>({...M,[h]:f}))},P=()=>!t.username||!t.email||!t.password||!t.confirmPassword?(s("Please fill in all required fields"),!1):t.password!==t.confirmPassword?(s("Passwords do not match"),!1):t.password.length<8?(s("Password must be at least 8 characters long"),!1):!0,L=()=>{e===0?P()&&(s(""),a(1)):y()},b=()=>{a(0),s("")},y=async()=>{var x,h;try{s(""),l(!0);const f={username:t.username,email:t.email,password:t.password,first_name:t.first_name,last_name:t.last_name,phone_number:t.phone_number};await m(f),v(i,{replace:!0})}catch(f){s(((h=(x=f.response)==null?void 0:x.data)==null?void 0:h.message)||"Failed to register. Please try again."),a(0)}finally{l(!1)}},j=["Account Information","Personal Details"];return o.jsxs(ie,{component:"main",maxWidth:"sm",children:[o.jsxs(ce,{elevation:3,sx:{mt:8,p:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[o.jsx(pe,{sx:{m:1,bgcolor:"secondary.main"},children:o.jsx(le,{})}),o.jsx(H,{component:"h1",variant:"h5",children:"Sign up"}),o.jsx(De,{activeStep:e,sx:{width:"100%",mt:3},children:j.map(x=>o.jsx(be,{children:o.jsx(X,{children:x})},x))}),d&&o.jsx(ue,{severity:"error",sx:{width:"100%",mt:2},children:d}),o.jsxs(F,{component:"form",sx:{mt:3,width:"100%"},children:[e===0?o.jsxs(S,{container:!0,spacing:2,children:[o.jsx(S,{item:!0,xs:12,children:o.jsx(R,{required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",value:t.username,onChange:c})}),o.jsx(S,{item:!0,xs:12,children:o.jsx(R,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:t.email,onChange:c})}),o.jsx(S,{item:!0,xs:12,children:o.jsx(R,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",value:t.password,onChange:c,helperText:"Password must be at least 8 characters long"})}),o.jsx(S,{item:!0,xs:12,children:o.jsx(R,{required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",value:t.confirmPassword,onChange:c})})]}):o.jsxs(S,{container:!0,spacing:2,children:[o.jsx(S,{item:!0,xs:12,sm:6,children:o.jsx(R,{fullWidth:!0,id:"first_name",label:"First Name",name:"first_name",autoComplete:"given-name",value:t.first_name,onChange:c})}),o.jsx(S,{item:!0,xs:12,sm:6,children:o.jsx(R,{fullWidth:!0,id:"last_name",label:"Last Name",name:"last_name",autoComplete:"family-name",value:t.last_name,onChange:c})}),o.jsx(S,{item:!0,xs:12,children:o.jsx(R,{fullWidth:!0,id:"phone_number",label:"Phone Number",name:"phone_number",autoComplete:"tel",value:t.phone_number,onChange:c})})]}),o.jsxs(F,{sx:{display:"flex",justifyContent:"space-between",mt:3},children:[e>0&&o.jsx(Y,{onClick:b,variant:"outlined",children:"Back"}),o.jsx(Y,{variant:"contained",onClick:L,disabled:r,sx:{ml:e>0?"auto":0},children:r?o.jsx(me,{size:24}):e===j.length-1?"Sign Up":"Next"})]})]}),o.jsx(S,{container:!0,justifyContent:"flex-end",sx:{mt:3},children:o.jsx(S,{item:!0,children:o.jsx(J,{component:se,to:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]}),o.jsx(F,{mt:4,children:o.jsxs(H,{variant:"body2",color:"text.secondary",align:"center",children:["Copyright © ",o.jsx(J,{color:"inherit",href:"#",children:"Audio Group Communication App"})," ",new Date().getFullYear(),"."]})})]})};export{Qe as default};
