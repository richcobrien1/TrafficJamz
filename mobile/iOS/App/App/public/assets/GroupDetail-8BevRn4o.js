import{r as l,c as it,d as Z,j as e,e as It,k as $t,l as Bt,h as Wt,u as Ft,a as Nt,i as fe,R as bt}from"./index-C_3tyMlA.js";import{a as ct,g as dt,s as le,c as ut,m as pt,u as Gt,B as C,T as w,P as Ce}from"./Box-B7n4D01-.js";import{A as Ht,T as Ot,L as Ke,a as Ye,D as mt}from"./Toolbar-C16-zNA2.js";import{a as Et,c as be,b as qe,u as xe,I as Je,C as Ie,B as Q,L as gt}from"./List-K2ODHGaJ.js";import{A as Ut}from"./ArrowBack-CbxRKbGl.js";import{M as Vt,T as $e}from"./TextField-BEOKNznX.js";import{M as We}from"./MenuItem-DqvXe7tw.js";import{P as Qe}from"./PersonAdd-SABtM-5N.js";import{L as Xt,M as Kt}from"./Mic-DmEc21pb.js";import{C as vt}from"./Container-BLhiYW-S.js";import{o as Tt,u as Ne,a as Yt,A as Ze}from"./Grow-5OE428Pa.js";import{d as Mt}from"./mergeSlotProps-COfFLBTA.js";import{A as Be}from"./Avatar-CTdIBAVi.js";import{C as et}from"./Chip-0VM-YCcI.js";import{G as tt}from"./Grid-CyXsRVxX.js";import{L as qt}from"./LocationOn-CXBPx9JF.js";import{L as St}from"./ListItemAvatar-mpGPWVKz.js";import{D as ot,a as rt,b as st,c as nt}from"./DialogTitle-CyEuKmcp.js";import"./listItemIconClasses-BIGm1TVN.js";function Jt(o){return dt("MuiTab",o)}const A=ct("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),Qt=o=>{const{classes:t,textColor:a,fullWidth:u,wrapped:c,icon:p,label:m,selected:v,disabled:h}=o,I={root:["root",p&&m&&"labelIcon",`textColor${It(a)}`,u&&"fullWidth",c&&"wrapped",v&&"selected",h&&"disabled"],icon:["iconWrapper","icon"]};return ut(I,Jt,t)},Zt=le(Et,{name:"MuiTab",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:a}=o;return[t.root,a.label&&a.icon&&t.labelIcon,t[`textColor${It(a.textColor)}`],a.fullWidth&&t.fullWidth,a.wrapped&&t.wrapped,{[`& .${A.iconWrapper}`]:t.iconWrapper},{[`& .${A.icon}`]:t.icon}]}})(pt(({theme:o})=>({...o.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:t})=>t.label&&(t.iconPosition==="top"||t.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:t})=>t.label&&t.iconPosition!=="top"&&t.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:t})=>t.icon&&t.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:t,iconPosition:a})=>t.icon&&t.label&&a==="top",style:{[`& > .${A.icon}`]:{marginBottom:6}}},{props:({ownerState:t,iconPosition:a})=>t.icon&&t.label&&a==="bottom",style:{[`& > .${A.icon}`]:{marginTop:6}}},{props:({ownerState:t,iconPosition:a})=>t.icon&&t.label&&a==="start",style:{[`& > .${A.icon}`]:{marginRight:o.spacing(1)}}},{props:({ownerState:t,iconPosition:a})=>t.icon&&t.label&&a==="end",style:{[`& > .${A.icon}`]:{marginLeft:o.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${A.selected}`]:{opacity:1},[`&.${A.disabled}`]:{opacity:(o.vars||o).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(o.vars||o).palette.text.secondary,[`&.${A.selected}`]:{color:(o.vars||o).palette.primary.main},[`&.${A.disabled}`]:{color:(o.vars||o).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(o.vars||o).palette.text.secondary,[`&.${A.selected}`]:{color:(o.vars||o).palette.secondary.main},[`&.${A.disabled}`]:{color:(o.vars||o).palette.text.disabled}}},{props:({ownerState:t})=>t.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:t})=>t.wrapped,style:{fontSize:o.typography.pxToRem(12)}}]}))),lt=l.forwardRef(function(t,a){const u=it({props:t,name:"MuiTab"}),{className:c,disabled:p=!1,disableFocusRipple:m=!1,fullWidth:v,icon:h,iconPosition:I="top",indicator:B,label:T,onChange:S,onClick:M,onFocus:F,selected:k,selectionFollowsFocus:g,textColor:V="inherit",value:R,wrapped:me=!1,...y}=u,z={...u,disabled:p,disableFocusRipple:m,selected:k,icon:!!h,iconPosition:I,label:!!T,fullWidth:v,textColor:V,wrapped:me},X=Qt(z),K=h&&T&&l.isValidElement(h)?l.cloneElement(h,{className:Z(X.icon,h.props.className)}):h,ee=L=>{!k&&S&&S(L,R),M&&M(L)},H=L=>{g&&!k&&S&&S(L,R),F&&F(L)};return e.jsxs(Zt,{focusRipple:!m,className:Z(X.root,c),ref:a,role:"tab","aria-selected":k,disabled:p,onClick:ee,onFocus:H,ownerState:z,tabIndex:k?0:-1,...y,children:[I==="top"||I==="start"?e.jsxs(l.Fragment,{children:[K,T]}):e.jsxs(l.Fragment,{children:[T,K]}),B]})}),eo=be(e.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),to=be(e.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function oo(o){return(1+Math.sin(Math.PI*o-Math.PI/2))/2}function ro(o,t,a,u={},c=()=>{}){const{ease:p=oo,duration:m=300}=u;let v=null;const h=t[o];let I=!1;const B=()=>{I=!0},T=S=>{if(I){c(new Error("Animation cancelled"));return}v===null&&(v=S);const M=Math.min(1,(S-v)/m);if(t[o]=p(M)*(a-h)+h,M>=1){requestAnimationFrame(()=>{c(null)});return}requestAnimationFrame(T)};return h===a?(c(new Error("Element already at target position")),B):(requestAnimationFrame(T),B)}const so={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function no(o){const{onChange:t,...a}=o,u=l.useRef(),c=l.useRef(null),p=()=>{u.current=c.current.offsetHeight-c.current.clientHeight};return $t(()=>{const m=Mt(()=>{const h=u.current;p(),h!==u.current&&t(u.current)}),v=Tt(c.current);return v.addEventListener("resize",m),()=>{m.clear(),v.removeEventListener("resize",m)}},[t]),l.useEffect(()=>{p(),t(u.current)},[t]),e.jsx("div",{style:so,...a,ref:c})}function lo(o){return dt("MuiTabScrollButton",o)}const ao=ct("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),io=o=>{const{classes:t,orientation:a,disabled:u}=o;return ut({root:["root",a,u&&"disabled"]},lo,t)},co=le(Et,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:a}=o;return[t.root,a.orientation&&t[a.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${ao.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),uo=l.forwardRef(function(t,a){const u=it({props:t,name:"MuiTabScrollButton"}),{className:c,slots:p={},slotProps:m={},direction:v,orientation:h,disabled:I,...B}=u,T=Bt(),S={isRtl:T,...u},M=io(S),F=p.StartScrollButtonIcon??eo,k=p.EndScrollButtonIcon??to,g=Ne({elementType:F,externalSlotProps:m.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:S}),V=Ne({elementType:k,externalSlotProps:m.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:S});return e.jsx(co,{component:"div",className:Z(M.root,c),ref:a,role:null,ownerState:S,tabIndex:null,...B,style:{...B.style,...h==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${T?-90:90}deg)`}},children:v==="left"?e.jsx(F,{...g}):e.jsx(k,{...V})})});function po(o){return dt("MuiTabs",o)}const at=ct("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),yt=(o,t)=>o===t?o.firstChild:t&&t.nextElementSibling?t.nextElementSibling:o.firstChild,jt=(o,t)=>o===t?o.lastChild:t&&t.previousElementSibling?t.previousElementSibling:o.lastChild,Fe=(o,t,a)=>{let u=!1,c=a(o,t);for(;c;){if(c===o.firstChild){if(u)return;u=!0}const p=c.disabled||c.getAttribute("aria-disabled")==="true";if(!c.hasAttribute("tabindex")||p)c=a(o,c);else{c.focus();return}}},ho=o=>{const{vertical:t,fixed:a,hideScrollbar:u,scrollableX:c,scrollableY:p,centered:m,scrollButtonsHideMobile:v,classes:h}=o;return ut({root:["root",t&&"vertical"],scroller:["scroller",a&&"fixed",u&&"hideScrollbar",c&&"scrollableX",p&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",m&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",v&&"scrollButtonsHideMobile"],scrollableX:[c&&"scrollableX"],hideScrollbar:[u&&"hideScrollbar"]},po,h)},fo=le("div",{name:"MuiTabs",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:a}=o;return[{[`& .${at.scrollButtons}`]:t.scrollButtons},{[`& .${at.scrollButtons}`]:a.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,a.vertical&&t.vertical]}})(pt(({theme:o})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.scrollButtonsHideMobile,style:{[`& .${at.scrollButtons}`]:{[o.breakpoints.down("sm")]:{display:"none"}}}}]}))),xo=le("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(o,t)=>{const{ownerState:a}=o;return[t.scroller,a.fixed&&t.fixed,a.hideScrollbar&&t.hideScrollbar,a.scrollableX&&t.scrollableX,a.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:o})=>o.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:o})=>o.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:o})=>o.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:o})=>o.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),bo=le("div",{name:"MuiTabs",slot:"List",overridesResolver:(o,t)=>{const{ownerState:a}=o;return[t.list,t.flexContainer,a.vertical&&t.flexContainerVertical,a.centered&&t.centered]}})({display:"flex",variants:[{props:({ownerState:o})=>o.vertical,style:{flexDirection:"column"}},{props:({ownerState:o})=>o.centered,style:{justifyContent:"center"}}]}),mo=le("span",{name:"MuiTabs",slot:"Indicator"})(pt(({theme:o})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:o.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(o.vars||o).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(o.vars||o).palette.secondary.main}},{props:({ownerState:t})=>t.vertical,style:{height:"100%",width:2,right:0}}]}))),go=le(no)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),wt={},vo=l.forwardRef(function(t,a){const u=it({props:t,name:"MuiTabs"}),c=Gt(),p=Bt(),{"aria-label":m,"aria-labelledby":v,action:h,centered:I=!1,children:B,className:T,component:S="div",allowScrollButtonsMobile:M=!1,indicatorColor:F="primary",onChange:k,orientation:g="horizontal",ScrollButtonComponent:V,scrollButtons:R="auto",selectionFollowsFocus:me,slots:y={},slotProps:z={},TabIndicatorProps:X={},TabScrollButtonProps:K={},textColor:ee="primary",value:H,variant:L="standard",visibleScrollbar:ae=!1,...ge}=u,D=L==="scrollable",E=g==="vertical",te=E?"scrollTop":"scrollLeft",O=E?"top":"left",Y=E?"bottom":"right",ie=E?"clientHeight":"clientWidth",ce=E?"height":"width",_={...u,component:S,allowScrollButtonsMobile:M,indicatorColor:F,orientation:g,vertical:E,scrollButtons:R,textColor:ee,variant:L,visibleScrollbar:ae,fixed:!D,hideScrollbar:D&&!ae,scrollableX:D&&!E,scrollableY:D&&E,centered:I&&!D,scrollButtonsHideMobile:!M},P=ho(_),Ee=Ne({elementType:y.StartScrollButtonIcon,externalSlotProps:z.startScrollButtonIcon,ownerState:_}),ht=Ne({elementType:y.EndScrollButtonIcon,externalSlotProps:z.endScrollButtonIcon,ownerState:_}),[Ge,Te]=l.useState(!1),[q,Me]=l.useState(wt),[oe,ke]=l.useState(!1),[ve,De]=l.useState(!1),[Se,ft]=l.useState(!1),[He,U]=l.useState({overflow:"hidden",scrollbarWidth:0}),Le=new Map,$=l.useRef(null),N=l.useRef(null),j={slots:y,slotProps:{indicator:X,scrollButton:K,...z}},J=()=>{const r=$.current;let n;if(r){const d=r.getBoundingClientRect();n={clientWidth:r.clientWidth,scrollLeft:r.scrollLeft,scrollTop:r.scrollTop,scrollWidth:r.scrollWidth,top:d.top,bottom:d.bottom,left:d.left,right:d.right}}let i;if(r&&H!==!1){const d=N.current.children;if(d.length>0){const b=d[Le.get(H)];i=b?b.getBoundingClientRect():null}}return{tabsMeta:n,tabMeta:i}},re=qe(()=>{const{tabsMeta:r,tabMeta:n}=J();let i=0,d;E?(d="top",n&&r&&(i=n.top-r.top+r.scrollTop)):(d=p?"right":"left",n&&r&&(i=(p?-1:1)*(n[d]-r[d]+r.scrollLeft)));const b={[d]:i,[ce]:n?n[ce]:0};if(typeof q[d]!="number"||typeof q[ce]!="number")Me(b);else{const G=Math.abs(q[d]-b[d]),ne=Math.abs(q[ce]-b[ce]);(G>=1||ne>=1)&&Me(b)}}),de=(r,{animation:n=!0}={})=>{n?ro(te,$.current,r,{duration:c.transitions.duration.standard}):$.current[te]=r},Pe=r=>{let n=$.current[te];E?n+=r:n+=r*(p?-1:1),de(n)},Ae=()=>{const r=$.current[ie];let n=0;const i=Array.from(N.current.children);for(let d=0;d<i.length;d+=1){const b=i[d];if(n+b[ie]>r){d===0&&(n=r);break}n+=b[ie]}return n},se=()=>{Pe(-1*Ae())},Oe=()=>{Pe(Ae())},[Ue,{onChange:ue,...Re}]=xe("scrollbar",{className:Z(P.scrollableX,P.hideScrollbar),elementType:go,shouldForwardComponentProp:!0,externalForwardedProps:j,ownerState:_}),ye=l.useCallback(r=>{ue==null||ue(r),U({overflow:null,scrollbarWidth:r})},[ue]),[ze,je]=xe("scrollButtons",{className:Z(P.scrollButtons,K.className),elementType:uo,externalForwardedProps:j,ownerState:_,additionalProps:{orientation:g,slots:{StartScrollButtonIcon:y.startScrollButtonIcon||y.StartScrollButtonIcon,EndScrollButtonIcon:y.endScrollButtonIcon||y.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:Ee,endScrollButtonIcon:ht}}}),_e=()=>{const r={};r.scrollbarSizeListener=D?e.jsx(Ue,{...Re,onChange:ye}):null;const i=D&&(R==="auto"&&(oe||ve)||R===!0);return r.scrollButtonStart=i?e.jsx(ze,{direction:p?"right":"left",onClick:se,disabled:!oe,...je}):null,r.scrollButtonEnd=i?e.jsx(ze,{direction:p?"left":"right",onClick:Oe,disabled:!ve,...je}):null,r},s=qe(r=>{const{tabsMeta:n,tabMeta:i}=J();if(!(!i||!n)){if(i[O]<n[O]){const d=n[te]+(i[O]-n[O]);de(d,{animation:r})}else if(i[Y]>n[Y]){const d=n[te]+(i[Y]-n[Y]);de(d,{animation:r})}}}),f=qe(()=>{D&&R!==!1&&ft(!Se)});l.useEffect(()=>{const r=Mt(()=>{$.current&&re()});let n;const i=G=>{G.forEach(ne=>{ne.removedNodes.forEach(we=>{n==null||n.unobserve(we)}),ne.addedNodes.forEach(we=>{n==null||n.observe(we)})}),r(),f()},d=Tt($.current);d.addEventListener("resize",r);let b;return typeof ResizeObserver<"u"&&(n=new ResizeObserver(r),Array.from(N.current.children).forEach(G=>{n.observe(G)})),typeof MutationObserver<"u"&&(b=new MutationObserver(i),b.observe(N.current,{childList:!0})),()=>{r.clear(),d.removeEventListener("resize",r),b==null||b.disconnect(),n==null||n.disconnect()}},[re,f]),l.useEffect(()=>{const r=Array.from(N.current.children),n=r.length;if(typeof IntersectionObserver<"u"&&n>0&&D&&R!==!1){const i=r[0],d=r[n-1],b={root:$.current,threshold:.99},G=Xe=>{ke(!Xe[0].isIntersecting)},ne=new IntersectionObserver(G,b);ne.observe(i);const we=Xe=>{De(!Xe[0].isIntersecting)},xt=new IntersectionObserver(we,b);return xt.observe(d),()=>{ne.disconnect(),xt.disconnect()}}},[D,R,Se,B==null?void 0:B.length]),l.useEffect(()=>{Te(!0)},[]),l.useEffect(()=>{re()}),l.useEffect(()=>{s(wt!==q)},[s,q]),l.useImperativeHandle(h,()=>({updateIndicator:re,updateScrollButtons:f}),[re,f]);const[x,W]=xe("indicator",{className:Z(P.indicator,X.className),elementType:mo,externalForwardedProps:j,ownerState:_,additionalProps:{style:q}}),pe=e.jsx(x,{...W});let he=0;const kt=l.Children.map(B,r=>{if(!l.isValidElement(r))return null;const n=r.props.value===void 0?he:r.props.value;Le.set(n,he);const i=n===H;return he+=1,l.cloneElement(r,{fullWidth:L==="fullWidth",indicator:i&&!Ge&&pe,selected:i,selectionFollowsFocus:me,onChange:k,textColor:ee,value:n,...he===1&&H===!1&&!r.props.tabIndex?{tabIndex:0}:{}})}),Dt=r=>{if(r.altKey||r.shiftKey||r.ctrlKey||r.metaKey)return;const n=N.current,i=Yt(n).activeElement;if(i.getAttribute("role")!=="tab")return;let b=g==="horizontal"?"ArrowLeft":"ArrowUp",G=g==="horizontal"?"ArrowRight":"ArrowDown";switch(g==="horizontal"&&p&&(b="ArrowRight",G="ArrowLeft"),r.key){case b:r.preventDefault(),Fe(n,i,jt);break;case G:r.preventDefault(),Fe(n,i,yt);break;case"Home":r.preventDefault(),Fe(n,null,yt);break;case"End":r.preventDefault(),Fe(n,null,jt);break}},Ve=_e(),[Lt,Pt]=xe("root",{ref:a,className:Z(P.root,T),elementType:fo,externalForwardedProps:{...j,...ge,component:S},ownerState:_}),[At,Rt]=xe("scroller",{ref:$,className:P.scroller,elementType:xo,externalForwardedProps:j,ownerState:_,additionalProps:{style:{overflow:He.overflow,[E?`margin${p?"Left":"Right"}`:"marginBottom"]:ae?void 0:-He.scrollbarWidth}}}),[zt,_t]=xe("list",{ref:N,className:Z(P.list,P.flexContainer),elementType:bo,externalForwardedProps:j,ownerState:_,getSlotProps:r=>({...r,onKeyDown:n=>{var i;Dt(n),(i=r.onKeyDown)==null||i.call(r,n)}})});return e.jsxs(Lt,{...Pt,children:[Ve.scrollButtonStart,Ve.scrollbarSizeListener,e.jsxs(At,{...Rt,children:[e.jsx(zt,{"aria-label":m,"aria-labelledby":v,"aria-orientation":g==="vertical"?"vertical":null,role:"tablist",..._t,children:kt}),Ge&&pe]}),Ve.scrollButtonEnd]})}),So=be(e.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),Ct=be(e.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),yo=be(e.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),jo=be(e.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"})),Go=()=>{var je,_e;const{groupId:o}=Wt(),[t,a]=l.useState(null),[u,c]=l.useState(""),[p,m]=l.useState(""),[v,h]=l.useState("private"),[I,B]=l.useState(""),[T,S]=l.useState(""),[M,F]=l.useState(!0),[k,g]=l.useState(""),[V,R]=l.useState(0),[me,y]=l.useState(!1),[z,X]=l.useState(""),[K,ee]=l.useState(""),[H,L]=l.useState(!1),[ae,ge]=l.useState(""),[D,E]=l.useState(null),[te,O]=l.useState(!1),[Y,ie]=l.useState(""),[ce,_]=l.useState(!1),[P,Ee]=l.useState(""),[ht,Ge]=l.useState(!1),[Te,q]=l.useState(""),[Me,oe]=l.useState(!1),[ke,ve]=l.useState(!1),[De,Se]=l.useState(!1),[ft,He]=l.useState(!1),[U,Le]=l.useState([]),[$,N]=l.useState(!1),{user:j}=Ft(),J=Nt();l.useEffect(()=>{t&&(c(t.name||""),m(t.description||""),h(t.privacy_level||"private"),B(t.avatar_url||""))},[t]),l.useEffect(()=>{re(),de()},[o]);const re=async()=>{try{F(!0);const s=await fe.get(`/groups/${o}`);a(s.data.group),ie(s.data.group.name),S(s.data.group.createdAt),Ee(s.data.group.description||""),g("")}catch(s){console.error("Error fetching group details:",s),g("Failed to load group details. Please try again later.")}finally{F(!1)}},de=async()=>{try{N(!0);const s=await fe.get(`/groups/${o}/invitations`);Le(s.data.invitations||[])}catch(s){console.error("Error fetching invitations:",s)}finally{N(!1)}},Pe=(s,f)=>{R(f)},Ae=s=>{E(s.currentTarget)},se=()=>{E(null)},Oe=async()=>{var s,f;if(!z.trim()){ge("Text not available at this time");return}try{L(!0),ge(""),await fe.post(`/groups/${o}/invitations`,{email:z,text:K}),X(""),ee(""),y(!1),de()}catch(x){console.error("Error inviting member:",x),ge(((f=(s=x.response)==null?void 0:s.data)==null?void 0:f.message)||"Failed to send invitation to: "+z+". Please try again.")}finally{L(!1)}},Ue=async()=>{var s,f;try{Se(!0),console.log("Sending PUT request to:",`/groups/${o}`),console.log("Request data:",{group_name:Y,group_description:P});const x=await fe.put(`/groups/${o}`,{group_name:Y,group_description:P,privacy_level:v,avatar_url:I});console.log("Update response:",x.data),a(W=>({...W,name:x.data.group.name||x.data.group.group_name,description:x.data.group.description||x.data.group.group_description,privacy_level:x.data.group.privacy_level,avatar_url:x.data.group.avatar_url,updatedAt:x.data.group.updatedAt})),_(!1),O(!1),g("")}catch(x){console.error("Error updating group:",x),g(((f=(s=x.response)==null?void 0:s.data)==null?void 0:f.message)||"Failed to update group. Please try again.")}finally{Se(!1)}},ue=async()=>{var s,f,x;try{if(!t||!t.members||!Array.isArray(t.members)){g("Group information is not available.");return}const W=t.members.find(he=>he.role==="owner");if(!W||!W.user_id){g("Owner information is not available.");return}const pe=t.id||o;console.log("Using group ID:",pe),ve(!0),await fe.delete(`/groups/${pe}`,{data:{owner_id:W.user_id,group_id:pe}}),J("/")}catch(W){console.error("Error deleting group:",W),console.error("Response data:",(s=W.response)==null?void 0:s.data),g(((x=(f=W.response)==null?void 0:f.data)==null?void 0:x.message)||"Failed to delete group. Please try again.")}finally{ve(!1),oe(!1)}},Re=async s=>{try{await fe.delete(`/groups/${o}/members/${s}`),J("/")}catch(f){console.error("Error leaving group:",f)}},ye=(t==null?void 0:t.owner_id)===(j==null?void 0:j.id),ze=!!D;return e.jsxs(C,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[e.jsx(Ht,{position:"static",children:e.jsxs(Ot,{children:[e.jsx(Je,{edge:"start",color:"inherit","aria-label":"back",sx:{mr:2},onClick:()=>J("/"),children:e.jsx(Ut,{})}),e.jsx(w,{variant:"h6",component:"div",sx:{flexGrow:1},children:M?"Loading...":t==null?void 0:t.name}),e.jsx(Je,{edge:"end","aria-label":"group options","aria-controls":"group-menu","aria-haspopup":"true",onClick:Ae,color:"inherit",children:e.jsx(jo,{})})]})}),e.jsxs(Vt,{id:"group-menu",anchorEl:D,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:ze,onClose:se,children:[ye&&e.jsxs(We,{onClick:()=>{se(),O(!0)},children:[e.jsx(yo,{fontSize:"small",sx:{mr:1}}),"Edit Group"]}),e.jsxs(We,{onClick:()=>{se(),y(!0)},children:[e.jsx(Qe,{fontSize:"small",sx:{mr:1}}),"Invite Member"]}),ye?e.jsxs(We,{onClick:()=>{se(),oe(!0)},sx:{color:"error.main"},children:[e.jsx(Ct,{fontSize:"small",sx:{mr:1}}),"Delete Group"]}):e.jsxs(We,{onClick:()=>{se(),Re()},sx:{color:"error.main"},children:[e.jsx(Xt,{fontSize:"small",sx:{mr:1}}),"Leave Group"]})]}),M?e.jsx(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexGrow:1},children:e.jsx(Ie,{})}):k?e.jsx(vt,{sx:{py:4},children:e.jsx(Ze,{severity:"error",children:k})}):e.jsxs(e.Fragment,{children:[e.jsx(C,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(vo,{value:V,onChange:Pe,centered:!0,children:[e.jsx(lt,{label:"Details"}),e.jsx(lt,{label:"Members"}),e.jsx(lt,{label:"Invited"})]})}),e.jsx(vt,{component:"main",sx:{flexGrow:1,py:4,maxWidth:"100%"},children:V===0?e.jsxs(C,{children:[e.jsxs(Ce,{sx:{p:3,mb:3},children:[e.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(Be,{src:t.avatar_url,sx:{width:80,height:80,mr:3},children:t.name[0]}),e.jsxs(C,{children:[e.jsx(w,{variant:"h5",component:"h1",children:t.name}),e.jsxs(w,{variant:"body2",color:"text.secondary",children:[((je=t.members)==null?void 0:je.length)||0," members â€¢ Created ",new Date(t.createdAt).toLocaleDateString()]}),e.jsx(et,{label:t.privacy_level,size:"small",color:t.privacy_level==="public"?"success":"primary",sx:{mt:1}})]})]}),t.description&&e.jsx(w,{variant:"body1",paragraph:!0,children:t.description})]}),e.jsxs(tt,{container:!0,spacing:3,sx:{width:"100%"},children:[e.jsx(tt,{item:!0,xs:12,sm:6,sx:{display:"flex"},children:e.jsxs(Ce,{sx:{p:3,display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",minWidth:0,flex:1,"&:hover":{boxShadow:6}},onClick:()=>J(`/audio-session/${o}`),children:[e.jsx(Be,{sx:{bgcolor:"primary.main",width:60,height:60,mb:2},children:e.jsx(Kt,{fontSize:"large"})}),e.jsx(w,{variant:"h6",gutterBottom:!0,sx:{wordBreak:"break-word",textAlign:"center"},children:"Join Audio Session"}),e.jsx(w,{variant:"body2",color:"text.secondary",align:"center",sx:{wordBreak:"break-word"},children:"Start or join a real-time audio conversation with group members"})]})}),e.jsx(tt,{item:!0,xs:12,sm:6,sx:{display:"flex"},children:e.jsxs(Ce,{sx:{p:3,display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",minWidth:0,flex:1,"&:hover":{boxShadow:6}},onClick:()=>J(`/location-tracking/${o}`),children:[e.jsx(Be,{sx:{bgcolor:"secondary.main",width:60,height:60,mb:2},children:e.jsx(qt,{fontSize:"large"})}),e.jsx(w,{variant:"h6",gutterBottom:!0,sx:{wordBreak:"break-word",textAlign:"center"},children:"Location Tracking Now"}),e.jsx(w,{variant:"body2",color:"text.secondary",align:"center",sx:{wordBreak:"break-word"},children:"View the location of group members on a map"})]})})]})]}):V===1?e.jsxs(C,{children:[e.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsxs(w,{variant:"h6",children:["Members (",((_e=t.members)==null?void 0:_e.length)||0,")"]}),e.jsx(C,{sx:{display:"flex",gap:1},children:e.jsx(Q,{variant:"outlined",startIcon:e.jsx(Qe,{}),onClick:()=>y(!0),children:"Invite"})})]}),e.jsx(Ce,{children:e.jsx(gt,{children:t.members&&t.members.length>0?t.members.map((s,f)=>{var x;return s&&s.user_id?e.jsxs(bt.Fragment,{children:[e.jsxs(Ke,{secondaryAction:ye&&s.user_id!==(j==null?void 0:j.user_id)&&s.role!=="owner"?e.jsx(Je,{edge:"end","aria-label":"remove",onClick:()=>{Re(s.user_id)},children:e.jsx(Ct,{})}):"Owner",children:[e.jsx(St,{children:e.jsx(Be,{src:s.profile_image_url,children:(x=s.first_name)==null?void 0:x[0]})}),e.jsx(Ye,{disableTypography:!0,primary:e.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsxs(w,{variant:"body1",children:[`${s.first_name||""} ${s.last_name||""}`,s.user_id===(j==null?void 0:j.user_id)&&" (You)"]}),s.user_id===t.owner_id&&e.jsx(et,{label:"Owner",size:"small",color:"primary"})]}),secondary:s.email})]}),f<t.members.length-1&&e.jsx(mt,{})]},s.user_id):null}):e.jsx(Ke,{children:e.jsx(Ye,{primary:"No members found"})})})})]}):e.jsxs(C,{children:[e.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsxs(w,{variant:"h6",children:["Pending Invitations (",(U==null?void 0:U.length)||0,")"]}),e.jsx(Q,{variant:"outlined",startIcon:e.jsx(Qe,{}),onClick:()=>y(!0),children:"Send New Invitation"})]}),e.jsx(Ce,{children:$?e.jsx(C,{sx:{display:"flex",justifyContent:"center",p:3},children:e.jsx(Ie,{})}):U&&U.length>0?e.jsx(gt,{children:U.map((s,f)=>e.jsxs(bt.Fragment,{children:[e.jsxs(Ke,{children:[e.jsx(St,{children:e.jsx(Be,{children:e.jsx(So,{})})}),e.jsx(Ye,{primary:s.email,secondary:e.jsxs(C,{children:[e.jsxs(w,{variant:"body2",color:"text.secondary",children:["Invited ",new Date(s.invited_at).toLocaleDateString()]}),e.jsxs(w,{variant:"body2",color:"text.secondary",children:["Expires ",new Date(s.expires_at).toLocaleDateString()]})]})}),e.jsx(et,{label:s.status,size:"small",color:s.status==="pending"?"warning":s.status==="accepted"?"success":"error",sx:{ml:2}})]}),f<U.length-1&&e.jsx(mt,{})]},s._id||f))}):e.jsxs(C,{sx:{p:3,textAlign:"center"},children:[e.jsx(w,{variant:"body1",color:"text.secondary",children:"No pending invitations"}),e.jsx(w,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Send invitations to grow your group!"})]})})]})})]}),e.jsxs(ot,{open:me,onClose:()=>y(!1),children:[e.jsx(rt,{children:"Invite Member"}),e.jsxs(st,{children:[ae&&e.jsx(Ze,{severity:"error",sx:{mb:2},children:ae}),e.jsx($e,{autoFocus:!0,margin:"dense",id:"email",label:"Email Address",type:"email",fullWidth:!0,variant:"outlined",value:z,onChange:s=>X(s.target.value),required:!0}),e.jsx($e,{autoFocus:!0,margin:"dense",id:"text message",label:"Mobile Phone",type:"phone",fullWidth:!0,variant:"outlined",value:K,onChange:s=>ee(s.target.value),required:!0})]}),e.jsxs(nt,{children:[e.jsx(Q,{onClick:()=>y(!1),children:"Cancel"}),e.jsx(Q,{onClick:Oe,variant:"contained",disabled:H,children:H?e.jsx(Ie,{size:24}):"Send Invitation"})]})]}),e.jsxs(ot,{open:te,onClose:()=>O(!1),children:[e.jsx(rt,{children:"Edit Group"}),e.jsxs(st,{children:[Te&&e.jsx(Ze,{severity:"error",sx:{mb:2},children:Te}),e.jsx($e,{autoFocus:!0,margin:"dense",id:"name",label:"Group Name",type:"text",fullWidth:!0,variant:"outlined",value:Y,onChange:s=>ie(s.target.value),required:!0}),e.jsx($e,{margin:"dense",id:"description",label:"Description (optional)",type:"text",fullWidth:!0,variant:"outlined",multiline:!0,rows:3,value:P,onChange:s=>Ee(s.target.value)})]}),e.jsxs(nt,{children:[e.jsx(Q,{onClick:()=>O(!1),children:"Cancel"}),e.jsx(Q,{onClick:Ue,variant:"contained",disabled:De,children:De?e.jsx(Ie,{size:24}):"Save Changes"})]})]}),e.jsxs(ot,{open:Me,onClose:()=>oe(!1),children:[e.jsx(rt,{children:"Delete Group"}),e.jsx(st,{children:e.jsx(w,{children:"Are you sure you want to delete this group? This action cannot be undone."})}),e.jsxs(nt,{children:[e.jsx(Q,{onClick:()=>oe(!1),children:"Cancel"}),e.jsx(Q,{onClick:ue,variant:"contained",color:"error",disabled:ke,children:ke?e.jsx(Ie,{size:24}):"Delete"})]})]})]})};export{Go as default};
